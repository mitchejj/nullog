<!DOCTYPE html>
<html lang=en-US>
  <meta content="width=device-width,initial-scale=1" name=viewport>
  <meta content="text/html; charset=utf-8" http-equiv=Content-Type>
  <meta content=nullog property=og:site_name>
  <meta content=2016-04-29T21:15:08.000Z property=og:updated_time>
  <meta content=en_US property=og:locale>
  <meta content=article property=og:type>
  <meta content=Avahi property=og:title>
  <meta content=https://nullog.net/2013/4/23/avahi/ property=og:url>
  <meta content="Jason Mitchell" property=article:author>
  <meta content=arch property=article:tag>
  <meta content=2013-05-23T00:00:00.000Z property=article:published_time>
  <meta content=2016-04-29T21:15:08.000Z property=article:modified_time>
  <meta content=summary name=twitter:card>
  <meta content=@_nullog name=twitter:site>
  <meta content=@mitchejj name=twitter:creator>
  <link href=//humans.txt rel=author type=text/plain>
  <title>Avahi | nullog</title>
  <link href=https://nullog.net//2013/4/23/avahi/ rel=canonical>
  <link href=/nullog.css rel=stylesheet>
  <body class=nullog>
    <header class="center site-header">
      <h1 class="center lowercase site-title">
        <a href=/>nullog</a>
      </h1>
      <nav class="lowercase site-nav">
        <ul>
          <li class=nav-node>
            <h2 class=small>
              <a href=/about/>about</a>
            </h2>
            <li class=nav-node>
              <h2 class=small>
                <a href=/all/>explore</a>
              </h2>
              <li class=nav-node>
                <h2 class=small>
                  <a href=/io/>io</a>
                </h2>
        </ul>
      </nav>
    </header>
    <main class=nullog-body>
      <article class="post arch">
        <header class=title>
          <h2 class=lowercase>Avahi
            <span class=mute> zeroconf implementation</span>
          </h2>
        </header>
        <p>Iâ€™ve had issues getting avahi (zeroconfig) to work properly on my first arch install. I was, I think, finally able to make everything work properly by doing the following. Edit <code>/etc/nsswitch.conf</code> and make the <code>host</code> line
          look like
          <sup id=#fn1r-2013-05-23>
            <a href=#fn1-2013-05-23>1</a>
          </sup>:<pre><code>hosts: files mdns4_minimal [NOTFOUND=return] dns mdns
</code></pre>
          <p>Finally run:<pre><code># systemctl enable avahi-daemon.service
</code></pre>
            <p>Testing metric:<pre><code>ping -c 1 `hostname`.local
avahi-resolve -n `hostname`.local
getent hosts `hostname`
</code></pre>
              <div class=footnotes>
                <ol>
                  <li id=fn1-2013-05-23>
                    <p>More info on what mdns4_minimal and mdns can be found on the
                      <a href=http://0pointer.de/lennart/projects/nss-mdns/>nss-mDNS</a> website.
                      <a href=#fn1r-2013-05-23>&#x21A9;&#xFE0E;</a>
                </ol>
              </div>
      </article>
    </main>
    <footer>
      <div class="small center">
        <p>So this is it. I mean, it&#x27;s not much, but it&#x27;s, you know...
          <br>
          <em>Copyright &copy; 2012 &mdash; 2017;
            <a href=http://twitter.com/mitchejj title=@mitchejj>Jason Mitchell</a>
          </em>
      </div>
    </footer>